<div *ngIf="!isMobile && isTablet && customKeyboard && !calculatorKeyboard && !floatKeyboard" class="mat-typography" dir="auto">
    <h1> <div [ngStyle]="{'float': (isRTL == 'rtl') ? 'right': 'left'}"> {{ 'Every Writers Choice' | translate }} <mat-icon aria-label="Privacy Centre" alt="Privacy Centre">settings_suggest</mat-icon></div> <div [ngStyle]="{'float': (isRTL == 'rtl') ? 'left': 'right'}"><mat-icon aria-label="Close" alt="Close" (click)="done()" style="cursor: pointer;">close</mat-icon></div></h1>
  
    <br/><br/>
    <mat-card>
        {{ 'Grid for Keyboard' | translate}} <br/>
        <!--div *ngIf="!isMobile && !isTablet" class="keyboard-container" dir="ltr" style="overflow-y: scroll;overflow-x: scroll;">
            <ul *ngFor="let rows of layoutCurrentKeys" style="list-style-type: none;">
                <li *ngFor="let character of (isQwerty? ( (isTransliterate) ? ( (isShiftKeyPress) ? ( (isAltGrKeyPress) ? rows.altGrCaps : rows.qwertyShiftTrans ) : ( (isAltGrKeyPress) ? rows.altGr : rows.qwertyTrans ) ) : ( (isShiftKeyPress) ? ( (isAltGrKeyPress) ? rows.altGrCaps : rows.qwertyShift ) : ( (isAltGrKeyPress) ? rows.altGr : rows.qwerty ) ) ) : ( ( keysToRotate && enableRotateKeyboard ) ? rows.rowVert : rows.row ) )" [ngClass]="{'btnVert': keysToRotate, 'btn': !keysToRotate, 'btnSelected': (isShiftKeyPress && character.action == 'shift' || isAltGrKeyPress && character.action == 'altGr') }" [ngStyle]="{'color': (highlightKeys && (character.type == 'swara' || character.type == 'vowel'))? 'brown' : ((character.type == 'unused')? 'darkgrey' :'inherit'), 'box-sizing': 'border-box', 'width' : ( (!isQwerty && !isTransliterate && character.action === 'enter') ? cells.value*3.4 + 'px' : ( ( (isQwerty || isTransliterate) &&  character.action === 'enter') ? cells.value*2.2 + 'px' : ( (character.action === 'space') ? cells.value*3.35 + 'px' : cells.value + 'px') ) ), 'transform': (switchScriptDirection == true) ? 'scaleX(-1)' : ((character.orient == 'b2t') ? 'rotate(-180deg)' : 'none'), 'font-size' : fonts.value/10 + 'rem', 'height' : keysToRotate? cells.value*40/50 + 'px' : cells.value*40/55 + 'px'}" (click)="keyPressed(character, character.value, character.action, character.type, character.src)">
                    <div *ngIf="!showImageGlyph || character.src == null">
                        {{character.value}} 
                    </div>
                    <div *ngIf="showImageGlyph && character.src != null">
                        <img src="{{character.src}}" [ngStyle]="{'width': fonts.value*1.4+'px', 'height': fonts.value*1.3+'px'}"/>
                    </div>
                </li>
            </ul>  
        </div--><br/>
        {{ 'Unicode Table search' | translate }} <br/>
        <br/>
        E-Mail : everywriterschoice@gmail.com with this new layout
    </mat-card>
  
    <div mat-dialog-actions style="margin-bottom: 0px;">
        <button mat-raised-button color="warn" (click)="done()" aria-label="{{ 'Close' | translate }}" cdkFocusInitial><mat-icon>check_circle</mat-icon> {{ 'Close' | translate }}</button>
        <button mat-raised-button color="accent" (click)="zenMode()" aria-label="{{ 'Zen' | translate }}"><mat-icon>self_improvement</mat-icon> {{ 'Zen' | translate }}</button>
        <button mat-raised-button type="submit" color="primary" aria-label="{{ 'Keyboard Selection' | translate }}" (click)="selectKeyboard()"><mat-icon>travel_explore</mat-icon> {{ 'Keyboard Selection' | translate }}</button>
    </div>
</div>  
  
<div *ngIf="!isMobile && !isTablet && customKeyboard && !calculatorKeyboard && !floatKeyboard" class="mat-typography" dir="auto">
    <h1> <div [ngStyle]="{'float': (isRTL == 'rtl') ? 'right': 'left'}"> {{ 'Every Writers Choice' | translate }} <mat-icon aria-label="Privacy Centre" alt="Privacy Centre">settings_suggest</mat-icon></div> <div [ngStyle]="{'float': (isRTL == 'rtl') ? 'left': 'right'}"><mat-icon aria-label="Close" alt="Close" (click)="done()" style="cursor: pointer;">close</mat-icon></div></h1>
  
    <br/><br/>
    <mat-card>
        <div cdkDropListGroup>
            <h2>{{ 'Grid for Keyboard' | translate}}</h2>
            <div *ngIf="!isMobile && !isTablet" class="keyboard-container" dir="ltr" style="overflow-y: scroll;overflow-x: scroll;" cdkDropList>
                <ul *ngFor="let rows of layoutCurrentKeys" style="list-style-type: none;">
                    <li *ngFor="let character of (isQwerty? ( (isTransliterate) ? ( (isShiftKeyPress) ? ( (isAltGrKeyPress) ? rows.altGrCaps : rows.qwertyShiftTrans ) : ( (isAltGrKeyPress) ? rows.altGr : rows.qwertyTrans ) ) : ( (isShiftKeyPress) ? ( (isAltGrKeyPress) ? rows.altGrCaps : rows.qwertyShift ) : ( (isAltGrKeyPress) ? rows.altGr : rows.qwerty ) ) ) : ( ( keysToRotate && enableRotateKeyboard ) ? rows.rowVert : rows.row ) )" [ngClass]="{'btnVert': keysToRotate, 'btn': !keysToRotate, 'btnSelected': (isShiftKeyPress && character.action == 'shift' || isAltGrKeyPress && character.action == 'altGr') }" [ngStyle]="{'color': (highlightKeys && (character.type == 'swara' || character.type == 'vowel'))? 'brown' : ((character.type == 'unused')? 'darkgrey' :'inherit'), 'box-sizing': 'border-box', 'width' : ( (!isQwerty && !isTransliterate && character.action === 'enter') ? cells.value*3.3 + 'px' : ( ( (isQwerty || isTransliterate) &&  character.action === 'enter') ? cells.value*2.2 + 'px' : ( (character.action === 'space') ? cells.value*3.3 + 'px' : cells.value + 'px') ) ), 'transform': (switchScriptDirection == true) ? 'scaleX(-1)' : ((character.orient == 'b2t') ? 'rotate(-180deg)' : 'none'), 'font-size' : fonts.value + 'px', 'height' : keysToRotate? cells.value*40/50 + 'px' : cells.value*40/55 + 'px'}" (click)="keyPressed(character, character.value, character.action, character.type, character.src)" cdkDrag>
                        <div *ngIf="!showImageGlyph || character.src == null">
                            {{character.value}} 
                        </div>
                        <div *ngIf="showImageGlyph && character.src != null">
                            <img src="{{character.src}}" [ngStyle]="{'width': fonts.value*1.4+'px', 'height': fonts.value*1.3+'px'}"/>
                        </div>
                    </li>
                </ul>  
            </div>
            <h2>{{ 'Recycle Keys Area' | translate }}</h2>
            <div cdkDropList (cdkDropListDropped)="drop($event)" style="height: 100px; width: 100%;">

            </div>
        </div>    
        
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <mat-icon aria-label="{{ 'Modify Font Size' | translate }}" alt="{{ 'Modify Font Size' | translate }}" matTooltip="{{ 'Modify Font Size' | translate }}">format_size</mat-icon> &nbsp;&nbsp; <mat-slider thumbLabel [displayWith]="fontSize" #fonts tickInterval="1" min="5" max="50" value="{{defaultFontSize}}"></mat-slider>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <mat-icon aria-label="{{ 'Modify Cell Size' | translate }}" alt="{{ 'Modify Cell Size' | translate }}" matTooltip="{{ 'Modify Cell Size' | translate }}">aspect_ratio</mat-icon> &nbsp;&nbsp; <mat-slider thumbLabel [displayWith]="cellSize" #cells tickInterval="1" min="10" max="100" value="{{defaultCellSize}}"></mat-slider>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <br/><br/>
        &nbsp;&nbsp;&nbsp;&nbsp; {{ 'Unicode Table search' | translate }} <br/>
        <mat-card dir="auto">

        </mat-card>
        <br/>
        <mat-icon aria-label="{{ 'Email this layout' | translate }}" alt="{{ 'Email this layout' | translate }}" (click)="done()" style="cursor: pointer;font-size: 15px;">email</mat-icon> &nbsp;&nbsp;&nbsp; everywriterschoice@gmail.com with this new layout
    </mat-card>
  
    <div mat-dialog-actions style="margin-bottom: 0px;">
        <button mat-raised-button color="warn" (click)="done()" aria-label="{{ 'Close' | translate }}" cdkFocusInitial><mat-icon>check_circle</mat-icon> {{ 'Close' | translate }}</button>
        <button mat-raised-button color="accent" (click)="zenMode()" aria-label="{{ 'Zen' | translate }}"><mat-icon>self_improvement</mat-icon> {{ 'Zen' | translate }}</button>
        <button mat-raised-button type="submit" color="primary" aria-label="{{ 'Keyboard Selection' | translate }}" (click)="selectKeyboard()"><mat-icon>travel_explore</mat-icon> {{ 'Keyboard Selection' | translate }}</button>
    </div>
</div>

<div *ngIf="!calculatorKeyboard && floatKeyboard && !customKeyboard" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle style="cursor: pointer;" class="keyboard-container" dir="ltr">
    <h2 mat-dialog-title style="text-align: right;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Minimise" alt="Minimise" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="floatNotMinimise">minimize</mat-icon> 
            <mat-icon style="cursor: pointer;" aria-label="Launch" alt="Launch" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="!floatNotMinimise">open_with</mat-icon> &nbsp;&nbsp;&nbsp;&nbsp; 
        </span>  
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Restore" alt="Restore" (click)="restoreBackKeyboard()" style="cursor: pointer;">restore_page</mat-icon>&nbsp;&nbsp;&nbsp;&nbsp; 
        </span>
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Close" alt="Close" (click)="restoreBackKeyboard()">close</mat-icon>
        </span>
    </h2>
    <mat-dialog-content class="mat-topography" *ngIf="floatNotMinimise" style="color: black;">
        <ul *ngFor="let rows of layoutCurrentKeys" style="list-style-type: none;" class="keyboardTheming">
            <li *ngFor="let character of (isQwerty? ( (isTransliterate) ? ( (isShiftKeyPress) ? ( (isAltGrKeyPress) ? rows.altGrCaps : rows.qwertyShiftTrans ) : ( (isAltGrKeyPress) ? rows.altGr : rows.qwertyTrans ) ) : ( (isShiftKeyPress) ? ( (isAltGrKeyPress) ? rows.altGrCaps : rows.qwertyShift ) : ( (isAltGrKeyPress) ? rows.altGr : rows.qwerty ) ) ) : ( ( keysToRotate && enableRotateKeyboard ) ? rows.rowVert : rows.row ) )" [ngClass]="{'btnVert': keysToRotate, 'btn': !keysToRotate, 'btnSelected': (isShiftKeyPress && character.action == 'shift' || isAltGrKeyPress && character.action == 'altGr' || whichMappedKey == character.value) }" [ngStyle]="{'display': (!unusedKeys && character.type == 'unused')? 'none': 'inline-block', 'color': (highlightKeys && (character.type == 'swara' || character.type == 'vowel'))? 'brown' : ((character.type == 'unused')? 'darkgrey' : ((character.type == 'syllabic')? '#e6ac00' : 'inherit')), 'box-sizing': 'border-box', 'width' : ( (!isQwerty && !isTransliterate && character.action === 'enter') ? defaultCellSize*3.3 + 'px' : ( ( (isQwerty || isTransliterate) &&  character.action === 'enter') ? defaultCellSize*2.2 + 'px' : ( (character.action === 'space') ? defaultCellSize*3.3 + 'px' : defaultCellSize + 'px') ) ), 'transform': (switchScriptDirection == true) ? 'scaleX(-1)' : ((character.orient == 'b2t') ? 'rotate(-180deg)' : ((keysToRotate && notToRotateKeys)? 'rotate(-90deg)' :'none')), 'font-size' : defaultFontSize + 'px', 'height' : keysToRotate? defaultCellSize*40/50 + 'px' : defaultCellSize*40/55 + 'px'}" (click)="keyPressed(character, character.value, character.action, character.type, character.src)">
                <div *ngIf="!showImageGlyph || character.src == null" class="{{fontClass}}">
                    {{character.value}} 
                    <!--sup *ngIf="allowSuperScript && (isQwerty || isTransliterate) && character.sup && character.action === 'char'" class="charSuper">{{character.sup}}</sup-->
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') == -1">
                    <img src="{{character.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}"/>
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') > -1" class="icon icon-{{character.src.split('/')[1]}}">
                </div>
            </li>
        </ul>
    </mat-dialog-content>
</div>

<div *ngIf="isMobile && !isTablet && currentCalculatorType == 'simple' && calculatorKeyboard && !floatKeyboard && !customKeyboard" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle style="cursor: pointer;" class="keyboard-container" dir="auto">
    <h2 mat-dialog-title [ngStyle]="{'text-align':(dirSet == 'ltr')?'left':'right'}">&nbsp;&nbsp;&nbsp;&nbsp;{{ 'Calculator' | translate }}&nbsp;&nbsp;&nbsp;&nbsp; 
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Minimise" alt="Minimise" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="floatNotMinimise">minimize</mat-icon> 
            <mat-icon style="cursor: pointer;" aria-label="Launch" alt="Launch" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="!floatNotMinimise">open_with</mat-icon> &nbsp;&nbsp;&nbsp;&nbsp; 
        </span>  
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Close" alt="Close" (click)="restoreBackKeyboard()">close</mat-icon>
        </span>
    </h2>
    <mat-icon aria-label="{{ 'Copy Equation' | translate }}" matTooltip="{{ 'Copy Equation' | translate }}" (click)="copyContent('equationField')">content_copy</mat-icon>&nbsp;&nbsp;&nbsp;
    <mat-form-field style="width: 70%;" appearance="fill">
        <mat-label>{{ 'View Equation' | translate }}</mat-label>
        <input matInput disabled class="{{fontClass}}" id="equationField" #equationField value="xⁿ = yⁿ + zⁿ" [ngStyle]="{'unicode-bidi':unicodeOverride,'text-align':dirSet}">
        <mat-card *ngIf="unicode5AndHigher && noNumeralsForNonUnicode" [ngStyle]="{'text-align':dirSet}">
            <span *ngFor="let image of nonUnicodeNumberEquation">
                <span *ngIf="showImageGlyph && image.src == ''">
                    {{image.value}}
                </span>
                <span *ngIf="showImageGlyph && image.src != ''">
                    <img src="{{image.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}">
                </span>
            </span>
        </mat-card>
    </mat-form-field>&nbsp;&nbsp;&nbsp;
    <mat-icon aria-label="{{ 'Copy Reverse Equation' | translate }}" matTooltip="{{ 'Copy Reverse Equation' | translate }}" (click)="copyContent('reverseEquationField')">copy_all</mat-icon>
    <br/>
    <mat-icon aria-label="{{ 'Copy Result' | translate }}" matTooltip="{{ 'Copy Result' | translate }}" (click)="copyContent('resultField')">content_copy</mat-icon>&nbsp;&nbsp;&nbsp;
    <mat-form-field style="width: 70%;" appearance="fill">
        <mat-label>{{ 'Type Numbers' | translate }}</mat-label>
        <span *ngIf="appendCurrencyPrefix" matPrefix>{{currencySymbol}} &nbsp;</span>
        <input matInput type="text" class="{{fontClass}}" id="resultField" #resultField [(ngModel)]="valueInField" (ngModelChange)="carveOperatorVariables($event)" onpaste="return false" (keyup.enter)="enterKeyPressForInput()" (keyup.backspace)="whatToDoWithThisKeyPress('', '', 'keyboard', 'undoAction', '', '')" [ngStyle]="{'unicode-bidi':unicodeOverride,'text-align':dirSet}">
        <span *ngIf="appendCurrencySuffix" matSuffix>&nbsp; {{currencySymbol}}</span>
        <span *ngIf="appendCircularUnits" matSuffix>&nbsp; {{circularUnit}}</span>
        <mat-card *ngIf="unicode5AndHigher && noNumeralsForNonUnicode" [ngStyle]="{'text-align':dirSet}">
            <span *ngFor="let image of nonUnicodeNumberResult">
                <span *ngIf="showImageGlyph && image.src == ''">
                    {{image.value}}
                </span>
                <span *ngIf="showImageGlyph && image.src != ''">
                    <img src="{{image.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}">
                </span>
            </span>
        </mat-card>
    </mat-form-field>&nbsp;&nbsp;&nbsp;
    <mat-icon aria-label="{{ 'Copy Reverse Result' | translate }}" matTooltip="{{ 'Copy Reverse Result' | translate }}" (click)="copyContent('reverseResultField')">copy_all</mat-icon>
    <br/>
    <mat-dialog-content class="mat-topography" *ngIf="floatNotMinimise" style="color: black;">
        <ul *ngFor="let rows of anyCalculatorLayout" style="list-style-type: none;" class="keyboardTheming">
            <li *ngFor="let character of rows.row" [ngClass]="{'btnVert': keysToRotate, 'btn': !keysToRotate, 'btnSelected': (isShiftKeyPress && character.action == 'shift' || isAltGrKeyPress && character.action == 'altGr' || whichMappedKey == character.value) }" [ngStyle]="{'display': (!unusedKeys && character.type == 'unused')? 'none': 'inline-block', 'color': ((character.type == currentBase || character.value == circularUnit || character.type == 'equalsSign'))? 'brown' : ((character.visible == 'hide')? 'darkgrey' : ((character.type == 'formula1' || character.type == 'formula2' || character.type == 'formula3' || character.type == 'formula4' || character.type == 'formula5' || character.type == 'formula6')? '#e6ac00' : 'inherit')), 'box-sizing': 'border-box', 'width' : defaultCellSize + 'px', 'transform': (switchScriptDirection == true) ? 'scaleX(-1)' : ((character.orient == 'b2t') ? 'rotate(-180deg)' : ((keysToRotate && notToRotateKeys)? 'rotate(-90deg)' :'none')), 'font-size' : (character.type == 'undoAction') ? '15px' : defaultFontSize + 'px', 'font-weight': 700, 'height' : defaultCellSize + 'px', 'padding-top': '5px'}" (click)="whatToDoWithThisKeyPress(character, character.value, character.action, character.type, character.src, character.visible)">
                <div *ngIf="!showImageGlyph || character.src == null" class="{{fontClass}}">
                    {{character.value}} 
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') == -1">
                    <img src="{{character.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}"/>
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') > -1" class="icon icon-{{character.src.split('/')[1]}}">
                </div>
            </li>
        </ul>
    </mat-dialog-content>
    <div mat-dialog-actions style="margin-bottom: 0px; width: 100%;">
        <table style="width: 100%;" *ngIf="!calculatorOnly">
            <tr style="text-align: center; width: 100%;">
                <td>
                    <button mat-raised-button color="warn" (click)="done()" aria-label="{{ 'Close' | translate }}" style="height: 35px;" cdkFocusInitial><mat-icon style="font-size: medium;">check_circle</mat-icon></button>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button type="submit" color="accent" (click)="sendResultOnly()" style="height: 35px;" aria-label="{{ 'Send Result' | translate }}"><mat-icon style="font-size: medium;">send</mat-icon></button>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button type="submit" color="primary" aria-label="{{ 'Send Equation' | translate }}" style="height: 35px;" (click)="sendResultAndEquation()"><mat-icon style="font-size: medium;">summarize</mat-icon></button>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button color="accent" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="historyMenu" style="height: 35px;" aria-label="{{ 'History' | translate }}"><mat-icon>work_history</mat-icon></button>&nbsp;&nbsp;
                    <mat-menu #historyMenu="matMenu">
                        <button *ngFor="let history of historyEquations" mat-menu-item>
                            <span (click)="selectEquationFromHistory(history)">{{history}}</span>
                        </button>
                    </mat-menu>&nbsp;&nbsp;
                </td>
            </tr>
        </table>
        <table style="width: 100%;" *ngIf="calculatorOnly">
            <tr style="text-align: center; width: 100%;">
                <td>
                    <button mat-raised-button color="warn" (click)="done()" aria-label="{{ 'Close' | translate }}" style="height: 35px;" cdkFocusInitial><mat-icon style="font-size: medium;">check_circle</mat-icon></button>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button color="accent" aria-label="{{ 'Toggle Scientific and Simple Calculator' | translate }}" matTooltip="{{ 'Toggle Scientific and Simple Calculator' | translate }}" style="height: 35px;" (click)="switchCalculators()"><mat-icon style="font-size: medium;">screen_rotation</mat-icon><mat-icon>science</mat-icon></button>
                </td>
            </tr>
            <tr style="text-align: center; width: 100%;">
                <td>
                    <button mat-raised-button color="primary" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="favouriteMenu" aria-label="{{ 'Bookmark' | translate }}" style="height: 35px;" matTooltip="{{ 'Bookmark' | translate }}"><mat-icon style="font-size: medium;">stars</mat-icon></button>&nbsp;&nbsp;
                    <mat-menu #favouriteMenu="matMenu">
                        <button *ngFor="let valueOfBookmark of bookmarkedEquations" mat-menu-item>
                            <span (click)="selectEquationFromBookmark(valueOfBookmark)">{{valueOfBookmark}}</span>
                        </button>
                    </mat-menu>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button color="accent" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="historyMenu" style="height: 35px;" aria-label="{{ 'History' | translate }}"><mat-icon>work_history</mat-icon></button>&nbsp;&nbsp;
                    <mat-menu #historyMenu="matMenu">
                        <button *ngFor="let history of historyEquations" mat-menu-item>
                            <span (click)="selectEquationFromHistory(history)">{{history}}</span>
                        </button>
                    </mat-menu>&nbsp;&nbsp;
                </td>
            </tr>
        </table>
    </div>
</div>

<div *ngIf="isMobile && !isTablet && currentCalculatorType == 'scientific' && calculatorKeyboard && !floatKeyboard && !customKeyboard" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle style="cursor: pointer;" class="keyboard-container" dir="auto">
    <h4 mat-dialog-title class="{{fontClass}}" [ngStyle]="{'text-align':(dirSet == 'ltr')?'left':'right','margin':'1px'}">&nbsp;&nbsp;&nbsp;&nbsp;{{ 'Calculator' | translate }}&nbsp;&nbsp;&nbsp;&nbsp; 
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Minimise" alt="Minimise" style="font-size: smaller;" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="floatNotMinimise">minimize</mat-icon> 
            <mat-icon style="cursor: pointer;" aria-label="Launch" alt="Launch" style="font-size: smaller;" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="!floatNotMinimise">open_with</mat-icon> &nbsp;&nbsp;&nbsp;&nbsp; 
        </span>  
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Close" alt="Close" style="font-size: smaller;" (click)="restoreBackKeyboard()">close</mat-icon>
        </span>
    </h4>
    <mat-icon aria-label="{{ 'Copy Equation' | translate }}" matTooltip="{{ 'Copy Equation' | translate }}" (click)="copyContent('equationField')">content_copy</mat-icon>&nbsp;&nbsp;&nbsp;
    <mat-form-field style="width: 85%;height:20px;margin:1px" appearance="fill">
        <mat-label>{{ 'View Equation' | translate }}</mat-label>
        <table style="width: 100%;">
            <tr>
                <td style="width: 50%;">
                    <input matInput disabled id="equationField" #equationField value="xⁿ = yⁿ + zⁿ" [ngStyle]="{'unicode-bidi':unicodeOverride,'text-align':dirSet}">
                </td>
                <td style="width: 50%;">
                    <mat-card *ngIf="unicode5AndHigher && noNumeralsForNonUnicode" [ngStyle]="{'text-align':dirSet,'padding':'0px'}">
                        <span *ngFor="let image of nonUnicodeNumberEquation">
                            <span *ngIf="showImageGlyph && image.src == ''">
                                {{image.value}}
                            </span>
                            <span *ngIf="showImageGlyph && image.src != ''">
                                <img src="{{image.src}}" [ngStyle]="{'width': defaultFontSize+'px', 'height': defaultFontSize+'px'}">
                            </span>
                        </span>
                    </mat-card>
                </td>
            </tr>
        </table>
    </mat-form-field>&nbsp;&nbsp;&nbsp;
    <mat-icon aria-label="{{ 'Copy Reverse Equation' | translate }}" matTooltip="{{ 'Copy Reverse Equation' | translate }}" (click)="copyContent('reverseEquationField')">copy_all</mat-icon>
    <br/>
    <mat-icon aria-label="{{ 'Copy Result' | translate }}" matTooltip="{{ 'Copy Result' | translate }}" (click)="copyContent('resultField')">content_copy</mat-icon>&nbsp;&nbsp;&nbsp;
    <mat-form-field style="width: 85%;height:20px;margin:1px" appearance="fill">
        <mat-label>{{ 'Type Numbers' | translate }}</mat-label>
        <table style="width: 100%;">
            <tr>
                <td style="width: 50%;">
                    <span *ngIf="appendCurrencyPrefix" matPrefix>{{currencySymbol}} &nbsp;</span>
                    <input matInput type="text" id="resultField" #resultField [(ngModel)]="valueInField" (ngModelChange)="carveOperatorVariables($event)" onpaste="return false" (keyup.enter)="enterKeyPressForInput()" (keyup.backspace)="whatToDoWithThisKeyPress('', '', '', 'undoAction', '', '')" [ngStyle]="{'unicode-bidi':unicodeOverride,'text-align':dirSet}">
                </td>
                <td style="width: 50%;">
                    <span *ngIf="appendCurrencySuffix" matSuffix>&nbsp; {{currencySymbol}}</span>
                    <span *ngIf="appendCircularUnits" matSuffix>&nbsp; {{circularUnit}}</span>
                    <mat-card *ngIf="unicode5AndHigher && noNumeralsForNonUnicode" [ngStyle]="{'text-align':dirSet,'padding':'0px'}">
                        <span *ngFor="let image of nonUnicodeNumberResult">
                            <span *ngIf="showImageGlyph && image.src == ''">
                                {{image.value}}
                            </span>
                            <span *ngIf="showImageGlyph && image.src != ''">
                                <img src="{{image.src}}" [ngStyle]="{'width': defaultFontSize+'px', 'height': defaultFontSize+'px'}">
                            </span>
                        </span>
                    </mat-card>
                </td>
            </tr>
        </table>
    </mat-form-field>&nbsp;&nbsp;&nbsp;
    <mat-icon aria-label="{{ 'Copy Reverse Result' | translate }}" matTooltip="{{ 'Copy Reverse Result' | translate }}" (click)="copyContent('reverseResultField')">copy_all</mat-icon>
    <br/>
    <mat-dialog-content class="mat-topography" *ngIf="floatNotMinimise" style="color: black;padding-top: 10px;">
        <ul *ngFor="let rows of anyCalculatorLayout" style="list-style-type: none;" class="keyboardTheming">
            <li *ngFor="let character of rows.row" [ngClass]="{'btnVert': keysToRotate, 'btn': !keysToRotate, 'btnSelected': (isShiftKeyPress && character.action == 'shift' || isAltGrKeyPress && character.action == 'altGr' || whichMappedKey == character.value) }" [ngStyle]="{'display': (!unusedKeys && character.type == 'unused')? 'none': 'inline-block', 'color': ((character.type == currentBase || character.value == circularUnit || character.type == 'equalsSign'))? 'brown' : ((character.visible == 'hide')? 'darkgrey' : ((character.type == 'formula1' || character.type == 'formula2' || character.type == 'formula3' || character.type == 'formula4' || character.type == 'formula5' || character.type == 'formula6')? '#e6ac00' : 'inherit')), 'box-sizing': 'border-box', 'width' : defaultCellSize*1.1 + 'px', 'transform': (switchScriptDirection == true) ? 'scaleX(-1)' : ((character.orient == 'b2t') ? 'rotate(-180deg)' : ((keysToRotate && notToRotateKeys)? 'rotate(-90deg)' :'none')), 'font-size' : (character.type == 'undoAction') ? '25px' : defaultFontSize + 'px', 'font-weight': 400, 'height' : defaultCellSize*0.7 + 'px', 'padding-top': '0px'}" (click)="whatToDoWithThisKeyPress(character, character.value, character.action, character.type, character.src, character.visible)">
                <div *ngIf="!showImageGlyph || character.src == null" class="{{fontClass}}">
                    {{character.value}} 
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') == -1">
                    <img src="{{character.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize+'px'}"/>
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') > -1" class="icon icon-{{character.src.split('/')[1]}}">
                </div>
            </li>
        </ul>
    </mat-dialog-content>
    <div mat-dialog-actions style="margin-bottom: 0px; padding: 0px; width: 100%;">
        <table style="width: 100%;" *ngIf="!calculatorOnly">
            <tr style="text-align: center; width: 100%;">
                <td>
                    <button mat-raised-button color="warn" (click)="done()" aria-label="{{ 'Close' | translate }}" style="height: 22px;" cdkFocusInitial><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">check_circle</mat-icon></button>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button type="submit" color="accent" (click)="sendResultOnly()" style="height: 22px;" aria-label="{{ 'Send Result' | translate }}"><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">send</mat-icon></button>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button type="submit" color="primary" aria-label="{{ 'Send Equation' | translate }}" style="height: 22px;" (click)="sendResultAndEquation()"><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">summarize</mat-icon></button>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button color="accent" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="historyMenu" style="height: 22px;" aria-label="{{ 'History' | translate }}"><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">work_history</mat-icon></button>&nbsp;&nbsp;
                    <mat-menu #historyMenu="matMenu">
                        <button *ngFor="let history of historyEquations" mat-menu-item>
                            <span (click)="selectEquationFromHistory(history)">{{history}}</span>
                        </button>
                    </mat-menu>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button color="primary" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="favouriteMenu" aria-label="{{ 'Bookmark' | translate }}" style="height: 22px;" matTooltip="{{ 'Bookmark' | translate }}"><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">stars</mat-icon></button>&nbsp;&nbsp;
                    <mat-menu #favouriteMenu="matMenu">
                        <button *ngFor="let valueOfBookmark of bookmarkedEquations" mat-menu-item>
                            <span (click)="selectEquationFromBookmark(valueOfBookmark)">{{valueOfBookmark}}</span>
                        </button>
                    </mat-menu>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button color="accent" aria-label="{{ 'Toggle Scientific and Simple Calculator' | translate }}" matTooltip="{{ 'Toggle Scientific and Simple Calculator' | translate }}" style="height: 22px;" (click)="switchCalculators()"><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">screen_rotation</mat-icon><mat-icon style="font-size: smaller;vertical-align: super;">science</mat-icon></button>
                </td>
            </tr>
        </table>
        <table style="width: 100%;" *ngIf="calculatorOnly">
            <tr style="text-align: center; width: 100%;">
                <td>
                    <button mat-raised-button color="warn" (click)="done()" aria-label="{{ 'Close' | translate }}" style="height: 22px;" cdkFocusInitial><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">check_circle</mat-icon></button>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button color="accent" aria-label="{{ 'Toggle Scientific and Simple Calculator' | translate }}" matTooltip="{{ 'Toggle Scientific and Simple Calculator' | translate }}" style="height: 22px;" (click)="switchCalculators()"><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">screen_rotation</mat-icon><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">science</mat-icon></button>
                </td>
                <td>
                    <button mat-raised-button color="primary" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="favouriteMenu" aria-label="{{ 'Bookmark' | translate }}" style="height: 22px;" matTooltip="{{ 'Bookmark' | translate }}"><mat-icon style="font-size: smaller;vertical-align: super;height:0px">stars</mat-icon></button>&nbsp;&nbsp;
                    <mat-menu #favouriteMenu="matMenu">
                        <button *ngFor="let valueOfBookmark of bookmarkedEquations" mat-menu-item>
                            <span (click)="selectEquationFromBookmark(valueOfBookmark)">{{valueOfBookmark}}</span>
                        </button>
                    </mat-menu>&nbsp;&nbsp;
                </td>
                <td>
                    <button mat-raised-button color="accent" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="historyMenu" style="height: 22px;" aria-label="{{ 'History' | translate }}"><mat-icon style="font-size: smaller;vertical-align: super;height:0px;">work_history</mat-icon></button>&nbsp;&nbsp;
                    <mat-menu #historyMenu="matMenu">
                        <button *ngFor="let history of historyEquations" mat-menu-item>
                            <span (click)="selectEquationFromHistory(history)">{{history}}</span>
                        </button>
                    </mat-menu>&nbsp;&nbsp;
                </td>
            </tr>
        </table>
    </div>
</div>

<div *ngIf="!isMobile && isTablet && calculatorKeyboard && !floatKeyboard && !customKeyboard" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle style="cursor: pointer;" class="keyboard-container" dir="auto">
    <h2 mat-dialog-title class="{{fontClass}}" [ngStyle]="{'text-align':(dirSet == 'ltr')?'left':'right'}">&nbsp;&nbsp;&nbsp;&nbsp;{{localeNames}} {{ 'Calculator' | translate }}&nbsp;&nbsp;&nbsp;&nbsp; 
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Minimise" alt="Minimise" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="floatNotMinimise">minimize</mat-icon> 
            <mat-icon style="cursor: pointer;" aria-label="Launch" alt="Launch" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="!floatNotMinimise">open_with</mat-icon> &nbsp;&nbsp;&nbsp;&nbsp; 
        </span>  
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Close" alt="Close" (click)="restoreBackKeyboard()">close</mat-icon>
        </span>
    </h2>
    <mat-icon aria-label="{{ 'Copy Equation' | translate }}" matTooltip="{{ 'Copy Equation' | translate }}" (click)="copyContent('equationField')">content_copy</mat-icon>&nbsp;&nbsp;&nbsp;
    <mat-form-field style="width: 80%;" appearance="fill">
        <mat-label>{{ 'View Equation' | translate }}</mat-label>
        <input matInput disabled class="{{fontClass}}" id="equationField" #equationField value="xⁿ = yⁿ + zⁿ" [ngStyle]="{'unicode-bidi':unicodeOverride,'text-align':dirSet}">
        <mat-card *ngIf="unicode5AndHigher && noNumeralsForNonUnicode" [ngStyle]="{'text-align':dirSet}">
            <span *ngFor="let image of nonUnicodeNumberEquation">
                <span *ngIf="showImageGlyph && image.src == ''">
                    {{image.value}}
                </span>
                <span *ngIf="showImageGlyph && image.src != ''">
                    <img src="{{image.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}">
                </span>
            </span>
        </mat-card>
    </mat-form-field>&nbsp;&nbsp;&nbsp;
    <mat-icon aria-label="{{ 'Copy Reverse Equation' | translate }}" matTooltip="{{ 'Copy Reverse Equation' | translate }}" (click)="copyContent('reverseEquationField')">copy_all</mat-icon>
    <br/>
    <mat-icon aria-label="{{ 'Copy Result' | translate }}" matTooltip="{{ 'Copy Result' | translate }}" (click)="copyContent('resultField')">content_copy</mat-icon>&nbsp;&nbsp;&nbsp;
    <mat-form-field style="width: 80%;" appearance="fill">
        <mat-label>{{ 'Type Numbers' | translate }}</mat-label>
        <span *ngIf="appendCurrencyPrefix" matPrefix>{{currencySymbol}} &nbsp;</span>
        <input matInput type="text" class="{{fontClass}}" id="resultField" #resultField [(ngModel)]="valueInField" (ngModelChange)="carveOperatorVariables($event)" onpaste="return false" (keyup.enter)="enterKeyPressForInput()" (keyup.backspace)="whatToDoWithThisKeyPress('', '', 'keyboard', 'undoAction', '', '')"  [ngStyle]="{'unicode-bidi':unicodeOverride,'text-align':dirSet}">
        <span *ngIf="appendCurrencySuffix" matSuffix>&nbsp; {{currencySymbol}}</span>
        <span *ngIf="appendCircularUnits" matSuffix>&nbsp; {{circularUnit}}</span>
        <mat-card *ngIf="unicode5AndHigher && noNumeralsForNonUnicode" [ngStyle]="{'text-align':dirSet}">
            <span *ngFor="let image of nonUnicodeNumberResult">
                <span *ngIf="showImageGlyph && image.src == ''">
                    {{image.value}}
                </span>
                <span *ngIf="showImageGlyph && image.src != ''">
                    <img src="{{image.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}">
                </span>
            </span>
        </mat-card>
    </mat-form-field>&nbsp;&nbsp;&nbsp;
    <mat-icon aria-label="{{ 'Copy Reverse Result' | translate }}" matTooltip="{{ 'Copy Reverse Result' | translate }}" (click)="copyContent('reverseResultField')">copy_all</mat-icon>
    <br/>
    <mat-dialog-content class="mat-topography" *ngIf="floatNotMinimise" style="color: black;">
        <ul *ngFor="let rows of anyCalculatorLayout" style="list-style-type: none;" class="keyboardTheming">
            <li *ngFor="let character of rows.row" [ngClass]="{'btnVert': keysToRotate, 'btn': !keysToRotate, 'btnSelected': (isShiftKeyPress && character.action == 'shift' || isAltGrKeyPress && character.action == 'altGr' || whichMappedKey == character.value) }" [ngStyle]="{'display': (!unusedKeys && character.type == 'unused')? 'none': 'inline-block', 'color': ((character.type == currentBase || character.value == circularUnit || character.type == 'equalsSign'))? 'brown' : ((character.visible == 'hide')? 'darkgrey' : ((character.type == 'formula1' || character.type == 'formula2' || character.type == 'formula3' || character.type == 'formula4' || character.type == 'formula5' || character.type == 'formula6')? '#e6ac00' : 'inherit')), 'box-sizing': 'border-box', 'width' : defaultCellSize + 'px', 'transform': (switchScriptDirection == true) ? 'scaleX(-1)' : ((character.orient == 'b2t') ? 'rotate(-180deg)' : ((keysToRotate && notToRotateKeys)? 'rotate(-90deg)' :'none')), 'font-size' : (character.type == 'undoAction') ? '20px' : ((character.type == 'booleanFalse' || character.type == 'booleanTrue') ? '14px' : defaultFontSize + 'px'), 'height' : defaultCellSize + 'px', 'padding-top': '3px'}" (click)="whatToDoWithThisKeyPress(character, character.value, character.action, character.type, character.src, character.visible)">
                <div *ngIf="!showImageGlyph || character.src == null" class="{{fontClass}}">
                    {{character.value}} 
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') == -1">
                    <img src="{{character.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}"/>
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') > -1" class="icon icon-{{character.src.split('/')[1]}}">
                </div>
            </li>
        </ul>
    </mat-dialog-content>
    <div mat-dialog-actions style="margin-bottom: 0px;">
        <p style="text-align: center;width: 100%">
            <button mat-raised-button color="warn" (click)="done()" aria-label="{{ 'Close' | translate }}" cdkFocusInitial><mat-icon>check_circle</mat-icon></button>
            <button mat-raised-button type="submit" *ngIf="!calculatorOnly" color="accent" (click)="sendResultOnly()" aria-label="{{ 'Send Result' | translate }}"><mat-icon>send</mat-icon> {{ 'Send Result' | translate }}</button>&nbsp;&nbsp;
            <button mat-raised-button type="submit" *ngIf="!calculatorOnly" color="primary" aria-label="{{ 'Send Equation' | translate }}" (click)="sendResultAndEquation()"><mat-icon>summarize</mat-icon> {{ 'Send Equation' | translate }}</button>&nbsp;&nbsp;
            <button mat-raised-button color="accent" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="historyMenu" aria-label="{{ 'History' | translate }}"><mat-icon>work_history</mat-icon></button>&nbsp;&nbsp;
            <mat-menu #historyMenu="matMenu">
                <button *ngFor="let history of historyEquations" mat-menu-item>
                    <span (click)="selectEquationFromHistory(history)">{{history}}</span>
                </button>
            </mat-menu>&nbsp;&nbsp;
            <button mat-raised-button color="primary" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="favouriteMenu" aria-label="{{ 'Bookmark' | translate }}" matTooltip="{{ 'Bookmark' | translate }}"><mat-icon>stars</mat-icon></button> &nbsp;&nbsp;
            <mat-menu #favouriteMenu="matMenu">
                <button *ngFor="let valueOfBookmark of bookmarkedEquations" mat-menu-item>
                    <span (click)="selectEquationFromBookmark(valueOfBookmark)">{{valueOfBookmark}}</span>
                </button>
            </mat-menu>&nbsp;&nbsp;
            <button mat-raised-button color="accent" aria-label="{{ 'Toggle Scientific and Simple Calculator' | translate }}" matTooltip="{{ 'Toggle Scientific and Simple Calculator' | translate }}" (click)="switchCalculators()"><mat-icon>science</mat-icon></button>
        </p>
    </div>
</div>

<div *ngIf="!isMobile && !isTablet && calculatorKeyboard && !floatKeyboard && !customKeyboard" cdkDrag cdkDragRootElement=".cdk-overlay-pane" cdkDragHandle style="cursor: pointer;" class="keyboard-container" dir="auto">
    <h2 mat-dialog-title class="{{fontClass}}" [ngStyle]="{'text-align':(dirSet == 'ltr')?'left':'right'}">&nbsp;&nbsp;&nbsp;&nbsp;{{localeNames}} {{ 'Calculator' | translate }}&nbsp;&nbsp;&nbsp;&nbsp; 
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Minimise" alt="Minimise" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="floatNotMinimise">minimize</mat-icon> 
            <mat-icon style="cursor: pointer;" aria-label="Launch" alt="Launch" (click)="floatNotMinimise = !floatNotMinimise"  *ngIf="!floatNotMinimise">open_with</mat-icon> &nbsp;&nbsp;&nbsp;&nbsp; 
        </span>  
        <span>
            <mat-icon style="cursor: pointer;" aria-label="Close" alt="Close" (click)="restoreBackKeyboard()">close</mat-icon>
        </span>
    </h2>
    <mat-icon aria-label="{{ 'Copy Equation' | translate }}" matTooltip="{{ 'Copy Equation' | translate }}" (click)="copyContent('equationField')">content_copy</mat-icon>&nbsp;&nbsp;&nbsp;
    <mat-form-field [ngStyle]="{'width': (currentCalculatorType == 'scientific')? '80%': '70%'}" appearance="fill">
        <mat-label>{{ 'View Equation' | translate }}</mat-label>
        <input matInput disabled class="{{fontClass}}" id="equationField" #equationField value="xⁿ = yⁿ + zⁿ" [ngStyle]="{'unicode-bidi':unicodeOverride,'text-align':dirSet}">
        <mat-card *ngIf="unicode5AndHigher && noNumeralsForNonUnicode" [ngStyle]="{'text-align':dirSet}">
            <span *ngFor="let image of nonUnicodeNumberEquation">
                <span *ngIf="showImageGlyph && image.src == ''">
                    {{image.value}}
                </span>
                <span *ngIf="showImageGlyph && image.src != ''">
                    <img src="{{image.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}">
                </span>
            </span>
        </mat-card>
    </mat-form-field>&nbsp;&nbsp;&nbsp;
    <mat-icon aria-label="{{ 'Copy Reverse Equation' | translate }}" matTooltip="{{ 'Copy Reverse Equation' | translate }}" (click)="copyContent('reverseEquationField')">copy_all</mat-icon>
    <br/>
    <mat-icon aria-label="{{ 'Copy Result' | translate }}" matTooltip="{{ 'Copy Result' | translate }}" (click)="copyContent('resultField')">content_copy</mat-icon>&nbsp;&nbsp;&nbsp;
    <mat-form-field [ngStyle]="{'width': (currentCalculatorType == 'scientific')? '80%': '70%'}" appearance="fill">
        <mat-label>{{ 'Type Numbers' | translate }}</mat-label>
        <span *ngIf="appendCurrencyPrefix" matPrefix>{{currencySymbol}} &nbsp;</span>
        <input matInput type="text" class="{{fontClass}}" id="resultField" #resultField [(ngModel)]="valueInField" (ngModelChange)="carveOperatorVariables($event)" onpaste="return false" (keyup.enter)="enterKeyPressForInput()" (keyup.backspace)="whatToDoWithThisKeyPress('', '', 'keyboard', 'undoAction', '', '')"  [ngStyle]="{'unicode-bidi':unicodeOverride,'text-align':dirSet}">
        <span *ngIf="appendCurrencySuffix" matSuffix>&nbsp; {{currencySymbol}}</span>
        <span *ngIf="appendCircularUnits" matSuffix>&nbsp; {{circularUnit}}</span>
        <mat-card *ngIf="unicode5AndHigher && noNumeralsForNonUnicode" [ngStyle]="{'text-align':dirSet}">
            <span *ngFor="let image of nonUnicodeNumberResult">
                <span *ngIf="showImageGlyph && image.src == ''">
                    {{image.value}}
                </span>
                <span *ngIf="showImageGlyph && image.src != ''">
                    <img src="{{image.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.3+'px'}">
                </span>
            </span>
        </mat-card>
    </mat-form-field>&nbsp;&nbsp;&nbsp;
    <mat-icon aria-label="{{ 'Copy Reverse Result' | translate }}" matTooltip="{{ 'Copy Reverse Result' | translate }}" (click)="copyContent('reverseResultField')">copy_all</mat-icon>
    <br/>
    <mat-dialog-content class="mat-topography" *ngIf="floatNotMinimise" style="color: black;">
        <ul *ngFor="let rows of anyCalculatorLayout" style="list-style-type: none;" class="keyboardTheming">
            <li *ngFor="let character of rows.row" [ngClass]="{'btnVert': keysToRotate, 'btn': !keysToRotate, 'btnSelected': (isShiftKeyPress && character.action == 'shift' || isAltGrKeyPress && character.action == 'altGr' || whichMappedKey == character.value) }" [ngStyle]="{'display': (!unusedKeys && character.type == 'unused')? 'none': 'inline-block', 'color': ((character.type == currentBase || character.value == circularUnit || character.type == 'equalsSign'))? 'brown' : ((character.visible == 'hide')? 'darkgrey' : ((character.type == 'formula1' || character.type == 'formula2' || character.type == 'formula3' || character.type == 'formula4' || character.type == 'formula5' || character.type == 'formula6')? '#e6ac00' : 'inherit')), 'box-sizing': 'border-box', 'width' : defaultCellSize + 'px', 'transform': (switchScriptDirection == true) ? 'scaleX(-1)' : ((character.orient == 'b2t') ? 'rotate(-180deg)' : ((keysToRotate && notToRotateKeys)? 'rotate(-90deg)' :'none')), 'font-size' : (character.type == 'undoAction') ? '25px' : defaultFontSize + 'px', 'height' : defaultCellSize + 'px', 'padding-top': '7px'}" (click)="whatToDoWithThisKeyPress(character, character.value, character.action, character.type, character.src, character.visible)">
                <div *ngIf="!showImageGlyph || character.src == null" class="{{fontClass}}">
                    {{character.value}} 
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') == -1">
                    <img src="{{character.src}}" [ngStyle]="{'width': defaultFontSize*1.4+'px', 'height': defaultFontSize*1.6+'px'}"/>
                </div>
                <div *ngIf="showImageGlyph && character.src != null && character.src.indexOf('class') > -1" class="icon icon-{{character.src.split('/')[1]}}">
                </div>
            </li>
        </ul>
    </mat-dialog-content>
    <div mat-dialog-actions style="margin-bottom: 0px;">
        <p style="text-align: center;width: 100%;">
            <button mat-raised-button color="warn" (click)="done()" aria-label="{{ 'Close' | translate }}" cdkFocusInitial><mat-icon>check_circle</mat-icon> {{ 'Close' | translate }}</button>&nbsp;&nbsp;
            <button mat-raised-button type="submit" *ngIf="!calculatorOnly" color="accent" (click)="sendResultOnly()" aria-label="{{ 'Send Result' | translate }}"><mat-icon>send</mat-icon> {{ 'Send Result' | translate }}</button>&nbsp;&nbsp;
            <button mat-raised-button type="submit" *ngIf="!calculatorOnly" color="primary" aria-label="{{ 'Send Equation' | translate }}" (click)="sendResultAndEquation()"><mat-icon>summarize</mat-icon> {{ 'Send Equation' | translate }}</button>
            <button mat-raised-button color="accent" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="historyMenu" aria-label="{{ 'History' | translate }}"><mat-icon>work_history</mat-icon> {{ 'History' | translate }}</button>&nbsp;&nbsp;
            <mat-menu #historyMenu="matMenu">
                <button *ngFor="let history of historyEquations" mat-menu-item>
                    <span (click)="selectEquationFromHistory(history)">{{history}}</span>
                </button>
            </mat-menu>&nbsp;&nbsp;
            <button mat-raised-button color="primary" *ngIf="currentCalculatorType == 'scientific'" [matMenuTriggerFor]="favouriteMenu" aria-label="{{ 'Bookmark' | translate }}"><mat-icon>stars</mat-icon> {{ 'Bookmark' | translate }} xⁿ = yⁿ + zⁿ</button> &nbsp;&nbsp;
            <mat-menu #favouriteMenu="matMenu">
                <button *ngFor="let valueOfBookmark of bookmarkedEquations" mat-menu-item>
                    <span (click)="selectEquationFromBookmark(valueOfBookmark)">{{valueOfBookmark}}</span>
                </button>
            </mat-menu>&nbsp;&nbsp;
            <button mat-raised-button color="accent" aria-label="{{ 'Toggle Scientific and Simple Calculator' | translate }}" matTooltip="{{ 'Toggle Scientific and Simple Calculator' | translate }}" (click)="switchCalculators()"><mat-icon>science</mat-icon></button>
        </p>
    </div>
</div>