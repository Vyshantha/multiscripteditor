#!/bin/bash

# Enumerate all files to *.png format
ls -v | cat -n | while read n f; do mv -n "$f" "$n.png"; done

# Python execution of conversion of XML-CLDR to Layout-Keyboard JSON
python3 layouts-convert.py
sed -i '' 's/qwerty*/qwerty/g' ./layout-template.json
sed -i '' 's/qwertyShift*/qwertyShift/g' ./layout-template.json
sed -i '' 's/altGr*/altGr/g' ./layout-template.json
sed -i '' 's/altGrCaps*/altGrCaps/g' ./layout-template.json

# Sync up the Keyboard-Layouts folder between client & server instances
cp -R /Users/vyshanthasimha/Documents/Work_Related/workspace/MultiScriptEditor/editorClient/src/assets/keyboard-layouts/ /Users/vyshanthasimha/Documents/Work_Related/workspace/MultiScriptEditor/routes/keyboard-layouts

# Regular Expression for Letters between ( ) :  \(([^)]+)\)
# List of All Keyboards which have QWERTY style Typewriter :
grep -c "qwerty" layout-*.json | awk '/:1/{ print $0 }' | awk -F '[-.]' -v OFS='-' '{ print $3 }'

# List of All Keyboard which hhave Transliteration style Typewriter : 
grep -c "qwertyTrans" layout-*.json | awk '/:5/{ print $0 }' | awk -F '[-.]' -v OFS='-' '{ print $3 }'

curl "https://www.googleapis.com/language/translate/v2?key=&source=en&target=de&q=Hello%20World" #API Key required
# https://cloud.google.com/translate/?utm_source=google&utm_medium=cpc&utm_campaign=japac-IN-all-en-dr-skws-all-all-trial-b-dr-1009882&utm_content=text-ad-none-none-DEV_c-CRE_438601540549-ADGP_Hybrid%20%7C%20SKWS%20-%20BMM%20%7C%20Txt%20~%20AI%20%26%20ML%20~%20Cloud%20Translation_Translation-API-KWID_43700006664452400-kwd-31211996031&userloc_9043154-network_g&utm_term=KW_%2Btranslate%20%2Bapi&ds_rl=1264446&gclid=Cj0KCQjw9YWDBhDyARIsADt6sGYzrKYih8zDp0F5sxqK0Euf4oWxWCK2J__sY93S2eq_tbCJ3-7E9ZYaAq-hEALw_wcB&gclsrc=aw.ds
# Help : https://translatepress.com/docs/automatic-translation/generate-google-api-key/


// Remove Whitespaces in JSON file 
const allKeyboardsLayouts = ["layout-LFN-lfn.json","layout-ewe-ee.json","layout-lisu-lis.json","layout-sabaean-xsa.json","layout-abkhaz-ab.json","layout-faroese-fo.json","layout-lithuanian-lt.json","layout-sabellic-sabe.json","layout-acehnese-ace.json","layout-farsi-fa.json","layout-livonian-liv.json","layout-safaitic-safa.json","layout-adinkra-adin.json","layout-fijian-fj.json","layout-loma-loma.json","layout-samaritan-samr.json","layout-adlam-adlm.json","layout-fingers-banzsl.json","layout-lombard-lmo.json","layout-sami-se.json","layout-afaka-ndju.json","layout-fingers-desisign.json","layout-luganda-lg.json","layout-samoan-sm.json","layout-africa-iai.json","layout-fingers-ussign.json","layout-luo-luo.json","layout-samogitian-sgs.json","layout-afrikaans-af.json","layout-finnish-fi.json","layout-luwian-luw.json","layout-sanskrit-iast.json","layout-ahom-ahom.json","layout-flags-ics.json","layout-luxembourgish-lb.json","layout-sanskrit-sa.json","layout-ajami-ajam.json","layout-fongbe-fon.json","layout-lwo-lwo.json","layout-saraiki-skr.json","layout-akan-ak.json","layout-fraktur-latf.json","layout-lycian-lyci.json","layout-saramaccan-srm.json","layout-albanian-sq.json","layout-french-fr.json","layout-lydian-lydi.json","layout-sardu-sc.json","layout-alchemy-alch.json","layout-french-frca.json","layout-macedonian-mk.json","layout-saurashtra-saur.json","layout-alsatian-gsw.json","layout-frisian-fy.json","layout-madhura-mad.json","layout-saxony-nds.json","layout-amharic-am.json","layout-fula-ff.json","layout-magarakkha-maga.json","layout-semaphore-flag.json","layout-anglisc-ang.json","layout-furlan-fur.json","layout-mahajani-maha.json","layout-serbian-sr.json","layout-ao-njo.json","layout-gaelic-gael.json","layout-makasar-maka.json","layout-sesotholeboa-st.json","layout-arabic-ar.json","layout-gaelic-gd.json","layout-malagasy-mg.json","layout-setswana-tn.json","layout-arabic-arma.json","layout-gagauz-gag.json","layout-malay-ms.json","layout-seychellese-crs.json","layout-aragonese-an.json","layout-galician-gl.json","layout-malayalam-ml.json","layout-shan-shan.json","layout-aramaic-arc.json","layout-galik-galk.json","layout-maltese-mt.json","layout-sharada-shrd.json","layout-archaicgreek-ion.json","layout-gallo-gall.json","layout-malto-malt.json","layout-shompen-sii.json","layout-ariyaka-ari.json","layout-geba-geba.json","layout-manchu-mnc.json","layout-shona-sn.json","layout-armenian-hy.json","layout-geez-geez.json","layout-mandaic-mand.json","layout-siddham-sidd.json","layout-asomtavruli-asom.json","layout-georgian-ka.json","layout-mandinka-mnk.json","layout-signwriting-sgnw.json","layout-assamese-as.json","layout-glagolitic-glag.json","layout-mandinka-mnkar.json","layout-silician-scu.json","layout-asturian-ast.json","layout-gondi-gong.json","layout-mandombe-mamb.json","layout-sinaitic-sina.json","layout-avestan-avst.json","layout-gondi-gonm.json","layout-manichaean-mani.json","layout-sindhi-sd.json","layout-avoiuli-avo.json","layout-gorontalo-gor.json","layout-manipuri-mni.json","layout-sindhi-snd.json","layout-aymara-ay.json","layout-gothic-goth.json","layout-mansi-mns.json","layout-sinhala-si.json","layout-azerbaijani-az.json","layout-goykandi-goyk.json","layout-manx-gv.json","layout-siswati-ss.json","layout-azerbaijani-aze.json","layout-grantha-gran.json","layout-maori-mi.json","layout-slavonic-cyrs.json","layout-aztec-aztc.json","layout-greek-el.json","layout-maranao-mrw.json","layout-slovak-sk.json","layout-baburi-khat.json","layout-greenlandic-kl.json","layout-marathi-mr.json","layout-slovenian-sl.json","layout-badaga-bada.json","layout-griko-apu.json","layout-marchen-marc.json","layout-sogdian-sog.json","layout-bahasabanjar-bjn.json","layout-guarani-gn.json","layout-marshallese-mh.json","layout-somali-so.json","layout-bali-ban.json","layout-gujarati-gu.json","layout-masurian-masu.json","layout-sorasompeng-sora.json","layout-balinese-bali.json","layout-gupta-gup.json","layout-mauritian-mfe.json","layout-sorbian-wen.json","layout-balochi-bal.json","layout-haitian-ht.json","layout-mayan-maya.json","layout-soyombo-soyo.json","layout-bamanankan-bm.json","layout-hajong-haj.json","layout-mende-mend.json","layout-spanish-es.json","layout-bamun-bamu.json","layout-hangul-ko.json","layout-meriotic-mero.json","layout-spanish-esmx.json","layout-bashkir-bak.json","layout-hanifi-rohg.json","layout-meroiticglyph-mer.json","layout-sundanese-sun.json","layout-basque-eu.json","layout-hanunoo-hano.json","layout-miao-plrd.json","layout-sundanese-sund.json","layout-bassa-vah.json","layout-hatran-hatr.json","layout-mikmaq-mic.json","layout-suriyani-gars.json","layout-batak-batk.json","layout-hausa-ha.json","layout-mikmaq-mikq.json","layout-swahili-sw.json","layout-bavarian-bar.json","layout-hawaiian-haw.json","layout-minangkabau-min.json","layout-swedish-sv.json","layout-baybayin-tglg.json","layout-hebrew-he.json","layout-mirandese-mwl.json","layout-swissgerman-gsw.json","layout-belarussian-be.json","layout-hindi-hi.json","layout-mizo-lus.json","layout-sylheti-sylo.json","layout-belgique-befr.json","layout-hiragana-hira.json","layout-modi-modi.json","layout-syriac-syrc.json","layout-bengali-bn.json","layout-hittite-hit.json","layout-mongolian-mn.json","layout-syriacclassical-estr.json","layout-berber-ber.json","layout-hmong-hmn.json","layout-mongolian-mnla.json","layout-syriaceastern-madn.json","layout-berber-tfng.json","layout-hmong-hmng.json","layout-mongolian-mon.json","layout-syriacwestern-sert.json","layout-beria-zag.json","layout-hmong-hmnp.json","layout-moon-moon.json","layout-tagalog-tl.json","layout-bhaiksuki-bhai.json","layout-hungarian-hu.json","layout-mossang-moss.json","layout-tagbanwa-tagb.json","layout-bharatibraille-bharati.json","layout-iban-iba.json","layout-mossi-mos.json","layout-tahitian-ty.json","layout-bhattiprolu-bhat.json","layout-iberian-ibe.json","layout-mru-mroo.json","layout-taile-tale.json","layout-bikol-bcl.json","layout-icelandic-is.json","layout-multani-mult.json","layout-tailue-talu.json","layout-bislama-bis.json","layout-igbo-ig.json","layout-mwangwego-mwan.json","layout-taino-tnq.json","layout-blackfoot-bla.json","layout-ilocano-ilo.json","layout-myanmar-my.json","layout-tainua-tdd.json","layout-bodo-brx.json","layout-ilonggo-hil.json","layout-nabataean-nbat.json","layout-taitham-lana.json","layout-bodo-brxla.json","layout-indonesia-id.json","layout-nagamese-nag.json","layout-taiviet-tavt.json","layout-bopomofo-bopo.json","layout-indusscript-indus.json","layout-nandinagari-nand.json","layout-tajik-tg.json","layout-bosnian-bs.json","layout-inpiaq-esi.json","layout-naskapi-nask.json","layout-tajik-tgk.json","layout-bosnian-bsla.json","layout-inuktitut-iku.json","layout-nauruan-na.json","layout-takri-takr.json","layout-brahmi-brah.json","layout-inuktitut-iu.json","layout-navajo-nv.json","layout-tamil-ta.json","layout-braille-iub.json","layout-inupiatun-esk.json","layout-ndebele-nde.json","layout-tamukyi-tamu.json","layout-breton-br.json","layout-ipa-ipa.json","layout-neapolitan-nap.json","layout-tanchangya-tach.json","layout-buginese-bug.json","layout-irish-ga.json","layout-nias-nia.json","layout-tangut-txg.json","layout-bugis-bugla.json","layout-italian-it.json","layout-nihongo-jpn.json","layout-taqbaylit-kab.json","layout-buhid-buhd.json","layout-italic-ital.json","layout-nishi-njz.json","layout-tartessian-txr.json","layout-bulgarian-bg.json","layout-jamaican-jam.json","layout-nko-nkoo.json","layout-tatar-tt.json","layout-burushaski-bsk.json","layout-javanese-jv.json","layout-norman-nrf.json","layout-telugu-te.json","layout-caddoan-cdd.json","layout-jawi-jawi.json","layout-norwegian-no.json","layout-tetun-tdt.json","layout-canaanite-cana.json","layout-judeoespanyol-lad.json","layout-nosu-ii.json","layout-thaana-thaa.json","layout-canadianaboriginal-cans.json","layout-judeoespanyol-ladla.json","layout-nosu-yiii.json","layout-thai-th.json","layout-carian-cari.json","layout-kabiye-kbp.json","layout-nsibidi-nsi.json","layout-tibetian-tibt.json","layout-carrier-carr.json","layout-kadamba-kada.json","layout-nubian-onw.json","layout-tigalari-tiga.json","layout-catalan-ca.json","layout-kaida-kaid.json","layout-nushu-nshu.json","layout-tigre-tig.json","layout-cebuano-ceb.json","layout-kaithi-kthi.json","layout-nuskhuri-nusk.json","layout-tigrinya-ti.json","layout-celtiberian-xce.json","layout-kamarupi-kama.json","layout-nyanja-ny.json","layout-tikamuli-tika.json","layout-chakma-cakm.json","layout-kangxi-kan.json","layout-occitan-oc.json","layout-tirhuta-tirh.json","layout-cham-cham.json","layout-kanji-ja.json","layout-odia-or.json","layout-tocharian-toch.json","layout-chamorro-ch.json","layout-kannada-kn.json","layout-ogham-ogam.json","layout-tokbirim-chik.json","layout-cherokee-cher.json","layout-kapampangan-pam.json","layout-oirat-oira.json","layout-tokpisin-tpi.json","layout-chinese-zhcn.json","layout-kashmiri-ks.json","layout-ojibwe-oji.json","layout-tokpona-tokp.json","layout-chinese-zhtw.json","layout-kashubian-csb.json","layout-olchiki-olck.json","layout-tonga-to.json","layout-chokwe-cjk.json","layout-katakana-kata.json","layout-oldarabic-arold.json","layout-toto-toto.json","layout-chorasmian-chrs.json","layout-kawi-kawi.json","layout-oraclebone-jiag.json","layout-tsonga-tso.json","layout-code-morse.json","layout-kayahli-kali.json","layout-orkhon-orkh.json","layout-turkish-tr.json","layout-coptic-copt.json","layout-kazakh-kaz.json","layout-oromo-om.json","layout-turkmen-tk.json","layout-cornish-kw.json","layout-kazakh-kk.json","layout-osage-osge.json","layout-turkmen-tuk.json","layout-corsican-co.json","layout-khanty-kca.json","layout-osmania-osma.json","layout-ubykh-uby.json","layout-cree-cree.json","layout-kharosthi-khar.json","layout-pahlavi-pal.json","layout-udi-udi.json","layout-crew-crew.json","layout-khasi-kha.json","layout-palauan-pau.json","layout-ugaritic-ugar.json","layout-croatian-hr.json","layout-khazarian-khaz.json","layout-palenquero-pln.json","layout-ukranian-uk.json","layout-cuneiform-sux.json","layout-khimhun-tang.json","layout-pallava-pall.json","layout-urdu-ur.json","layout-cypriot-cprt.json","layout-khitanl-kitl.json","layout-palmyrene-palm.json","layout-uummarmiutun-ipk.json","layout-czech-cs.json","layout-khitans-kits.json","layout-pangasinan-pag.json","layout-uyghur-ug.json","layout-dagaare-dgabf.json","layout-khmer-km.json","layout-papiamento-pap.json","layout-uyghur-usy.json","layout-dagaare-dgagh.json","layout-khojki-khoj.json","layout-parthian-xpr.json","layout-uyghur-uyy.json","layout-dagbanli-dag.json","layout-khom-khom.json","layout-pashto-ps.json","layout-uzbek-uz.json","layout-dalecarlian-dale.json","layout-khudawadi-khud.json","layout-paucinhau-pauc.json","layout-uzbek-uzb.json","layout-danish-da.json","layout-kikuyu-ki.json","layout-persian-xpeo.json","layout-vai-vaii.json","layout-demotic-egyd.json","layout-kinyarwanda-rw.json","layout-phagspa-phag.json","layout-vatteluttu-vatt.json","layout-deutsch-de.json","layout-kiribati-gil.json","layout-phonecian-phn.json","layout-venda-ven.json","layout-dhankari-dhan.json","layout-kirundi-rn.json","layout-phrygian-phyg.json","layout-venetian-vec.json","layout-dhimal-dham.json","layout-komi-komi.json","layout-picene-pice.json","layout-vietnamese-vi.json","layout-dinka-din.json","layout-kongo-kon.json","layout-piedmontese-pms.json","layout-vilamovian-wym.json","layout-ditema-dite.json","layout-korean-ko.json","layout-pinyin-pin.json","layout-vithkuqi-vith.json","layout-divesakuru-diak.json","layout-kpelle-kpe.json","layout-polish-pl.json","layout-wakhi-wbl.json","layout-dogri-dogr.json","layout-kulitan-kuli.json","layout-portuguese-pt.json","layout-walon-wa.json","layout-dutch-nl.json","layout-kultobe-kult.json","layout-portuguese-ptbr.json","layout-wancho-wcho.json","layout-dzongkha-dz.json","layout-kurdish-ckb.json","layout-pracalit-newa.json","layout-waray-war.json","layout-edo-bin.json","layout-kurdish-ku.json","layout-psalter-psal.json","layout-welsh-cy.json","layout-egyptian-kmt.json","layout-kyrgyz-ky.json","layout-punic-xpu.json","layout-woleai-wole.json","layout-elamite-elam.json","layout-ladakhi-lbj.json","layout-punjabi-pa.json","layout-wolof-wo.json","layout-elamite-elx.json","layout-ladin-lld.json","layout-qafaraf-aa.json","layout-wolof-wolf.json","layout-elbasan-elba.json","layout-landa-land.json","layout-qaraqalpaq-kaa.json","layout-wolofal-woal.json","layout-elymaic-elym.json","layout-lao-lo.json","layout-quechua-qu.json","layout-xhosa-xh.json","layout-english-engb.json","layout-latgalian-ltg.json","layout-rally-rally.json","layout-yakut-sah.json","layout-english-enin.json","layout-latin-la.json","layout-ranjana-ranj.json","layout-yezidi-yezi.json","layout-english-enintl.json","layout-latvia-lv.json","layout-rapanui-rap.json","layout-yiddish-yi.json","layout-english-enus.json","layout-leke-leke.json","layout-rejang-rjng.json","layout-yoruba-bjyo.json","layout-eskayan-esy.json","layout-lepcha-lepc.json","layout-religion-all.json","layout-yoruba-ngyo.json","layout-esperanto-eo.json","layout-lepontic-lepo.json","layout-rencong-renc.json","layout-zanabazar-zanb.json","layout-estonia-et.json","layout-ligure-lij.json","layout-rohingya-rhg.json","layout-zazaki-zza.json","layout-etruscan-ett.json","layout-limbu-limb.json","layout-romani-rom.json","layout-zihui-zih.json","layout-eurkey-eurkey.json","layout-limburgish-li.json","layout-romanian-ro.json","layout-zoulai-zou.json","layout-evenki-evn.json","layout-lineara-linea.json","layout-rovasiras-hung.json","layout-zulu-zu.json","layout-evenki-evncy.json","layout-linearb-linb.json","layout-runic-runr.json","layout-evenki-evnla.json","layout-lingala-ln.json","layout-russian-ru.json"];
for (file in allKeyboardsLayouts) {
    let fileName = JSON.parse(fs.readFileSync(path.join(__dirname, "./keyboard-layouts/" + allKeyboardsLayouts[file])));
    fs.writeFileSync(path.join(__dirname, "./keyboard-layouts/" + allKeyboardsLayouts[file]), JSON.stringify(fileName));
    console.log("Compressing ", allKeyboardsLayouts[file], " file");
}

const allWordsList = ["afrikaans.json","chinese(taiwan).json","haitian.json","kurdish.json","ojibwe.json","swahili.json","albanian.json","chinese.json","hanyu.json","kyrgyz.json","pashto.json","swedish.json","amharic.json","cornish.json","hausa.json","lao.json","persian.json","tagalog.json","arabic.json","corsican.json","hawaiian.json","latin.json","polish.json","tahitian.json","aragonese.json","croatian.json","hebrew.json","latvian.json","portuguese.json","tajik.json","armenian.json","czech.json","hindi.json","lingala.json","punjabi.json","tamil.json","assamese.json","danish.json","hmong.json","lingua franca nova.json","quechua.json","tatar.json","azerbaijani.json","dutch.json","hungarian.json","lithuanian.json","romani.json","telugu.json","bashkir.json","english.json","icelandic.json","luxembourgish.json","romanian.json","thai.json","basque.json","esperanto.json","igbo.json","macedonian.json","russian.json","tok pisin.json","belarusian.json","estonian.json","ilocano.json","malagasy.json","samoan.json","turkish.json","bengali.json","faroese.json","indonesian.json","malay.json","sankethi.json","turkmen.json","berber.json","fijian.json","irish.json","malayalam.json","sanskrit.json","ukrainian.json","bopomofo.json","filipino.json","italian.json","maltese.json","scots gaelic.json","urdu.json","bosnian.json","finnish.json","japanese.json","manx.json","serbian.json","uyghur.json","brahmi.json","french.json","javanese.json","maori.json","sesotho.json","uzbek.json","breton.json","frisian.json","kannada.json","marathi.json","shona.json","vietnamese.json","bulgarian.json","galician.json","kazakh.json","mongolian.json","sindhi.json","welsh.json","burushaski.json","georgian.json","khmer.json","myanmar.json","sinhala.json","xhosa.json","catalan.json","german.json","kinyarwanda.json","nagamese.json","slovak.json","yiddish.json","cebuano.json","gothic.json","kirundi.json","nepali.json","slovenian.json","yoruba.json","chewa.json","greek.json","kongo.json","norwegian.json","somali.json","zulu.json","chichewa.json","guarani.json","konkani.json","nyanja.json","spanish.json","chinese(china).json","gujarati.json","korean.json","odia.json","sudanese.json"]

for (file in allWordsList) {
    let fileName = JSON.parse(fs.readFileSync(path.join(__dirname, "./suggestionWords/" + allWordsList[file])));
    fs.writeFileSync(path.join(__dirname, "./suggestionWords/" + allWordsList[file]), JSON.stringify(fileName));
    console.log("Compressing ", allWordsList[file], " file");
}